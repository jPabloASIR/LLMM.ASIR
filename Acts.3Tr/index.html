<!-- Este html va junto con el Ejercicio Ex8.xml -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Prueba XML DOM</title>
</head>
<body>
  <h1>Revisar consola para resultados XML DOM</h1>

  <script>
    // XML del ejercicio como texto
    const xmlString = `
    <bookstore>
      <book category="cooking">
        <title lang="en">Everyday Italian</title>
        <author>Giada De Laurentiis</author>
        <year>2005</year>
        <price>30.00</price>
      </book>
      <book category="children">
        <title lang="en">Harry Potter</title>
        <author>J K. Rowling</author>
        <year>2005</year>
        <price>29.99</price>
      </book>
      <book category="web">
        <title lang="en">XQuery Kick Start</title>
        <author>James McGovern</author>
        <author>Per Bothner</author>
        <author>Kurt Cagle</author>
        <author>James Linn</author>
        <author>Vaidyanathan Nagarajan</author>
        <year>2003</year>
        <price>49.99</price>
      </book>
      <book category="web" cover="paperback">
        <title lang="en">Learning XML</title>
        <author>Erik T. Ray</author>
        <year>2003</year>
        <price>39.95</price>
      </book>
    </bookstore>`;

    
    const parser = new DOMParser();
    const xmlDoc = parser.parseFromString(xmlString, "text/xml");

    // Apartados:

    // 1. Título del primer libro
    console.log(xmlDoc.getElementsByTagName("title")[0].childNodes[0].nodeValue);

    // 2. Año del primer libro
    console.log(xmlDoc.getElementsByTagName("year")[0].childNodes[0].nodeValue);

    // 3. Precio del segundo libro
    console.log(xmlDoc.getElementsByTagName("price")[1].childNodes[0].nodeValue);

    // 4. Autor del primer libro (dos formas)
    console.log(xmlDoc.getElementsByTagName("author")[0].childNodes[0].nodeValue);
    console.log(xmlDoc.getElementsByTagName("book")[0].getElementsByTagName('author')[0].childNodes[0].nodeValue);

    // 5. Primer autor del tercer libro
    console.log(xmlDoc.getElementsByTagName("book")[2].getElementsByTagName('author')[0].childNodes[0].nodeValue);

    // 6. Segundo autor del tercer libro
    console.log(xmlDoc.getElementsByTagName("book")[2].getElementsByTagName('author')[1].childNodes[0].nodeValue);

    // 7. Nombre del primer atributo del primer libro
    console.log(xmlDoc.getElementsByTagName("book")[0].attributes[0].nodeName);

    // 8. Valor del primer atributo del primer libro
    console.log(xmlDoc.getElementsByTagName("book")[0].attributes[0].nodeValue);

    // 9. Número de autores del tercer libro
    console.log(xmlDoc.getElementsByTagName("book")[2].getElementsByTagName('author').length);

    // 10. Mostrar todos los autores del tercer libro
    const authors = xmlDoc.getElementsByTagName("book")[2].getElementsByTagName('author');
    for (let i = 0; i < authors.length; i++) {
      console.log(authors[i].childNodes[0].nodeValue);
    }

    // 11. Mostrar el número de atributos del cuarto libro
    console.log(xmlDoc.getElementsByTagName("book")[3].attributes.length);

    // 12. Mostrar el valor de los atributos del cuarto libro
    const attrs = xmlDoc.getElementsByTagName("book")[3].attributes;
    for (let i = 0; i < attrs.length; i++) {
      console.log(attrs[i].nodeValue);
    }
  </script>
<!-- Este html va junto con el Ejercicio Ex8.xml -->
</body>
</html>
